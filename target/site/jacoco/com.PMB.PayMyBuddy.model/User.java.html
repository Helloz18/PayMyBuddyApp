<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>User.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">PayMyBuddy</a> &gt; <a href="index.source.html" class="el_package">com.PMB.PayMyBuddy.model</a> &gt; <span class="el_source">User.java</span></div><h1>User.java</h1><pre class="source lang-java linenums">package com.PMB.PayMyBuddy.model;

import java.util.Date;
import java.util.List;

import javax.persistence.*;

import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonIgnoreProperties;

@Entity
@Table(name = &quot;user&quot;)
@JsonIgnoreProperties({ &quot;hibernateLazyInitializer&quot;, &quot;handler&quot; })
public class User {

	@Id
	@Column(name = &quot;user_id&quot;)
	@GeneratedValue(strategy = GenerationType.IDENTITY)
	@JsonIgnore
	private Long id;
	@Column(unique = true)
	private String email;
	@Column(length = 60)
	private String password;
	private String firstname;
	private String lastname;
	private Date birthdate;
	private double appAccount;

	// for Spring security
	@Column(length = 50)
	private String role;
	private boolean enabled;

	@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)
	private List&lt;Address&gt; addresses;

	@OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)
	private List&lt;PhoneNumber&gt; phoneNumbers;

	@OneToOne(cascade = CascadeType.ALL)
	@JoinColumn(name = &quot;bankAccount_id&quot;)
	private BankAccount bankAccount;

	@ManyToMany
	@JoinTable(name = &quot;user_money_friends&quot;, joinColumns = {
			@JoinColumn(name = &quot;money_sender&quot;, referencedColumnName = &quot;user_id&quot;) }, inverseJoinColumns = {
					@JoinColumn(name = &quot;money_friend&quot;, referencedColumnName = &quot;user_id&quot;) })
	@JsonIgnoreProperties({ &quot;id&quot;, &quot;password&quot;, &quot;appAccount&quot;, &quot;moneyFriends&quot;, &quot;role&quot;, &quot;enabled&quot;, &quot;addresses&quot;,
			&quot;phoneNumbers&quot;, &quot;bankAccount&quot;, &quot;moneyTransfers&quot;, &quot;birthdate&quot; })
	private List&lt;User&gt; moneyFriends;

	@OneToMany(mappedBy = &quot;moneySender&quot;)
	private List&lt;MoneyTransfer&gt; moneyTransfers;

<span class="fc" id="L56">	public User() {</span>
<span class="fc" id="L57">	}</span>

	public User(String email, String password, String firstname, String lastname, Date birthdate, double appAccount,
			String role, boolean enabled, List&lt;Address&gt; addresses, List&lt;PhoneNumber&gt; phoneNumbers,
<span class="fc" id="L61">			BankAccount bankAccount, List&lt;MoneyTransfer&gt; moneyTransfers, List&lt;User&gt; moneyFriends) {</span>
<span class="fc" id="L62">		this.email = email;</span>
<span class="fc" id="L63">		this.password = password;</span>
<span class="fc" id="L64">		this.firstname = firstname;</span>
<span class="fc" id="L65">		this.lastname = lastname;</span>
<span class="fc" id="L66">		this.birthdate = birthdate;</span>
<span class="fc" id="L67">		this.appAccount = appAccount;</span>
<span class="fc" id="L68">		this.role = role;</span>
<span class="fc" id="L69">		this.enabled = enabled;</span>
<span class="fc" id="L70">		this.addresses = addresses;</span>
<span class="fc" id="L71">		this.phoneNumbers = phoneNumbers;</span>
<span class="fc" id="L72">		this.bankAccount = bankAccount;</span>
<span class="fc" id="L73">		this.moneyTransfers = moneyTransfers;</span>
<span class="fc" id="L74">		this.moneyFriends = moneyFriends;</span>
<span class="fc" id="L75">	}</span>

	public Long getId() {
<span class="fc" id="L78">		return id;</span>
	}

	public void setId(Long id) {
<span class="fc" id="L82">		this.id = id;</span>
<span class="fc" id="L83">	}</span>

	public String getEmail() {
<span class="fc" id="L86">		return email;</span>
	}

	public void setEmail(String email) {
<span class="fc" id="L90">		this.email = email;</span>
<span class="fc" id="L91">	}</span>

	public String getPassword() {
<span class="fc" id="L94">		return password;</span>
	}

	public void setPassword(String password) {
<span class="fc" id="L98">		this.password = password;</span>
<span class="fc" id="L99">	}</span>

	public String getFirstname() {
<span class="fc" id="L102">		return firstname;</span>
	}

	public void setFirstname(String firstname) {
<span class="fc" id="L106">		this.firstname = firstname;</span>
<span class="fc" id="L107">	}</span>

	public String getLastname() {
<span class="fc" id="L110">		return lastname;</span>
	}

	public void setLastname(String lastname) {
<span class="fc" id="L114">		this.lastname = lastname;</span>
<span class="fc" id="L115">	}</span>

	public List&lt;Address&gt; getAddresses() {
<span class="fc" id="L118">		return addresses;</span>
	}

	public void setAddresses(List&lt;Address&gt; addresses) {
<span class="fc" id="L122">		this.addresses = addresses;</span>
<span class="fc" id="L123">	}</span>

	public List&lt;PhoneNumber&gt; getPhoneNumbers() {
<span class="fc" id="L126">		return phoneNumbers;</span>
	}

	public void setPhoneNumbers(List&lt;PhoneNumber&gt; phoneNumbers) {
<span class="fc" id="L130">		this.phoneNumbers = phoneNumbers;</span>
<span class="fc" id="L131">	}</span>

	public Date getBirthdate() {
<span class="fc" id="L134">		return birthdate;</span>
	}

	public void setBirthdate(Date birthdate) {
<span class="fc" id="L138">		this.birthdate = birthdate;</span>
<span class="fc" id="L139">	}</span>

	public double getAppAccount() {
<span class="fc" id="L142">		return appAccount;</span>
	}

	public void setAppAccount(double appAccount) {
<span class="fc" id="L146">		this.appAccount = appAccount;</span>
<span class="fc" id="L147">	}</span>

	public BankAccount getBankAccount() {
<span class="fc" id="L150">		return bankAccount;</span>
	}

	public void setBankAccount(BankAccount bankAccounts) {
<span class="fc" id="L154">		this.bankAccount = bankAccounts;</span>
<span class="fc" id="L155">	}</span>

	public boolean isEnabled() {
<span class="fc" id="L158">		return enabled;</span>
	}

	public void setEnabled(boolean enabled) {
<span class="fc" id="L162">		this.enabled = enabled;</span>
<span class="fc" id="L163">	}</span>

	public String getRole() {
<span class="fc" id="L166">		return role;</span>
	}

	public void setRole(String role) {
<span class="fc" id="L170">		this.role = role;</span>
<span class="fc" id="L171">	}</span>

	public List&lt;User&gt; getMoneyFriends() {
<span class="fc" id="L174">		return moneyFriends;</span>
	}

	public void setMoneyFriends(List&lt;User&gt; moneyFriends) {
<span class="fc" id="L178">		this.moneyFriends = moneyFriends;</span>
<span class="fc" id="L179">	}</span>

	public List&lt;MoneyTransfer&gt; getMoneyTransfers() {
<span class="fc" id="L182">		return moneyTransfers;</span>
	}

	public void setMoneyTransfers(List&lt;MoneyTransfer&gt; moneyTransfers) {
<span class="fc" id="L186">		this.moneyTransfers = moneyTransfers;</span>
<span class="fc" id="L187">	}</span>

	@Override
	public int hashCode() {
<span class="nc" id="L191">		final int prime = 31;</span>
<span class="nc" id="L192">		int result = 1;</span>
<span class="nc bnc" id="L193" title="All 2 branches missed.">		result = prime * result + ((addresses == null) ? 0 : addresses.hashCode());</span>
		long temp;
<span class="nc" id="L195">		temp = Double.doubleToLongBits(appAccount);</span>
<span class="nc" id="L196">		result = prime * result + (int) (temp ^ (temp &gt;&gt;&gt; 32));</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">		result = prime * result + ((bankAccount == null) ? 0 : bankAccount.hashCode());</span>
<span class="nc bnc" id="L198" title="All 2 branches missed.">		result = prime * result + ((birthdate == null) ? 0 : birthdate.hashCode());</span>
<span class="nc bnc" id="L199" title="All 2 branches missed.">		result = prime * result + ((email == null) ? 0 : email.hashCode());</span>
<span class="nc bnc" id="L200" title="All 2 branches missed.">		result = prime * result + (enabled ? 1231 : 1237);</span>
<span class="nc bnc" id="L201" title="All 2 branches missed.">		result = prime * result + ((firstname == null) ? 0 : firstname.hashCode());</span>
<span class="nc" id="L202">		result = prime * result + (int) (id ^ (id &gt;&gt;&gt; 32));</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">		result = prime * result + ((lastname == null) ? 0 : lastname.hashCode());</span>
<span class="nc bnc" id="L204" title="All 2 branches missed.">		result = prime * result + ((moneyFriends == null) ? 0 : moneyFriends.hashCode());</span>
<span class="nc bnc" id="L205" title="All 2 branches missed.">		result = prime * result + ((moneyTransfers == null) ? 0 : moneyTransfers.hashCode());</span>
<span class="nc bnc" id="L206" title="All 2 branches missed.">		result = prime * result + ((password == null) ? 0 : password.hashCode());</span>
<span class="nc bnc" id="L207" title="All 2 branches missed.">		result = prime * result + ((phoneNumbers == null) ? 0 : phoneNumbers.hashCode());</span>
<span class="nc bnc" id="L208" title="All 2 branches missed.">		result = prime * result + ((role == null) ? 0 : role.hashCode());</span>
<span class="nc" id="L209">		return result;</span>
	}

	@Override
	public boolean equals(Object obj) {
<span class="fc bfc" id="L214" title="All 2 branches covered.">		if (this == obj)</span>
<span class="fc" id="L215">			return true;</span>
<span class="pc bpc" id="L216" title="1 of 2 branches missed.">		if (obj == null)</span>
<span class="nc" id="L217">			return false;</span>
<span class="pc bpc" id="L218" title="1 of 2 branches missed.">		if (getClass() != obj.getClass())</span>
<span class="nc" id="L219">			return false;</span>
<span class="fc" id="L220">		User other = (User) obj;</span>
<span class="pc bpc" id="L221" title="1 of 2 branches missed.">		if (addresses == null) {</span>
<span class="pc bpc" id="L222" title="1 of 2 branches missed.">			if (other.addresses != null)</span>
<span class="nc" id="L223">				return false;</span>
<span class="nc bnc" id="L224" title="All 2 branches missed.">		} else if (!addresses.equals(other.addresses))</span>
<span class="nc" id="L225">			return false;</span>
<span class="fc bfc" id="L226" title="All 2 branches covered.">		if (Double.doubleToLongBits(appAccount) != Double.doubleToLongBits(other.appAccount))</span>
<span class="fc" id="L227">			return false;</span>
<span class="pc bpc" id="L228" title="1 of 2 branches missed.">		if (bankAccount == null) {</span>
<span class="pc bpc" id="L229" title="1 of 2 branches missed.">			if (other.bankAccount != null)</span>
<span class="nc" id="L230">				return false;</span>
<span class="nc bnc" id="L231" title="All 2 branches missed.">		} else if (!bankAccount.equals(other.bankAccount))</span>
<span class="nc" id="L232">			return false;</span>
<span class="pc bpc" id="L233" title="1 of 2 branches missed.">		if (birthdate == null) {</span>
<span class="pc bpc" id="L234" title="1 of 2 branches missed.">			if (other.birthdate != null)</span>
<span class="nc" id="L235">				return false;</span>
<span class="nc bnc" id="L236" title="All 2 branches missed.">		} else if (!birthdate.equals(other.birthdate))</span>
<span class="nc" id="L237">			return false;</span>
<span class="pc bpc" id="L238" title="1 of 2 branches missed.">		if (email == null) {</span>
<span class="nc bnc" id="L239" title="All 2 branches missed.">			if (other.email != null)</span>
<span class="nc" id="L240">				return false;</span>
<span class="pc bpc" id="L241" title="1 of 2 branches missed.">		} else if (!email.equals(other.email))</span>
<span class="fc" id="L242">			return false;</span>
<span class="nc bnc" id="L243" title="All 2 branches missed.">		if (enabled != other.enabled)</span>
<span class="nc" id="L244">			return false;</span>
<span class="nc bnc" id="L245" title="All 2 branches missed.">		if (firstname == null) {</span>
<span class="nc bnc" id="L246" title="All 2 branches missed.">			if (other.firstname != null)</span>
<span class="nc" id="L247">				return false;</span>
<span class="nc bnc" id="L248" title="All 2 branches missed.">		} else if (!firstname.equals(other.firstname))</span>
<span class="nc" id="L249">			return false;</span>
<span class="nc bnc" id="L250" title="All 2 branches missed.">		if (id != other.id)</span>
<span class="nc" id="L251">			return false;</span>
<span class="nc bnc" id="L252" title="All 2 branches missed.">		if (lastname == null) {</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">			if (other.lastname != null)</span>
<span class="nc" id="L254">				return false;</span>
<span class="nc bnc" id="L255" title="All 2 branches missed.">		} else if (!lastname.equals(other.lastname))</span>
<span class="nc" id="L256">			return false;</span>
<span class="nc bnc" id="L257" title="All 2 branches missed.">		if (moneyFriends == null) {</span>
<span class="nc bnc" id="L258" title="All 2 branches missed.">			if (other.moneyFriends != null)</span>
<span class="nc" id="L259">				return false;</span>
<span class="nc bnc" id="L260" title="All 2 branches missed.">		} else if (!moneyFriends.equals(other.moneyFriends))</span>
<span class="nc" id="L261">			return false;</span>
<span class="nc bnc" id="L262" title="All 2 branches missed.">		if (moneyTransfers == null) {</span>
<span class="nc bnc" id="L263" title="All 2 branches missed.">			if (other.moneyTransfers != null)</span>
<span class="nc" id="L264">				return false;</span>
<span class="nc bnc" id="L265" title="All 2 branches missed.">		} else if (!moneyTransfers.equals(other.moneyTransfers))</span>
<span class="nc" id="L266">			return false;</span>
<span class="nc bnc" id="L267" title="All 2 branches missed.">		if (password == null) {</span>
<span class="nc bnc" id="L268" title="All 2 branches missed.">			if (other.password != null)</span>
<span class="nc" id="L269">				return false;</span>
<span class="nc bnc" id="L270" title="All 2 branches missed.">		} else if (!password.equals(other.password))</span>
<span class="nc" id="L271">			return false;</span>
<span class="nc bnc" id="L272" title="All 2 branches missed.">		if (phoneNumbers == null) {</span>
<span class="nc bnc" id="L273" title="All 2 branches missed.">			if (other.phoneNumbers != null)</span>
<span class="nc" id="L274">				return false;</span>
<span class="nc bnc" id="L275" title="All 2 branches missed.">		} else if (!phoneNumbers.equals(other.phoneNumbers))</span>
<span class="nc" id="L276">			return false;</span>
<span class="nc bnc" id="L277" title="All 2 branches missed.">		if (role == null) {</span>
<span class="nc bnc" id="L278" title="All 2 branches missed.">			if (other.role != null)</span>
<span class="nc" id="L279">				return false;</span>
<span class="nc bnc" id="L280" title="All 2 branches missed.">		} else if (!role.equals(other.role))</span>
<span class="nc" id="L281">			return false;</span>
<span class="nc" id="L282">		return true;</span>
	}

	@Override
	public String toString() {
<span class="nc" id="L287">		return &quot;User [id=&quot; + id + &quot;, email=&quot; + email + &quot;, password=&quot; + password + &quot;, firstname=&quot; + firstname</span>
				+ &quot;, lastname=&quot; + lastname + &quot;, birthdate=&quot; + birthdate + &quot;, appAccount=&quot; + appAccount + &quot;, role=&quot;
				+ role + &quot;, enabled=&quot; + enabled + &quot;, addresses=&quot; + addresses + &quot;, phoneNumbers=&quot; + phoneNumbers
<span class="nc" id="L290">				+ &quot;, bankAccount=&quot; + bankAccount + &quot;, moneyFriends=&quot; + moneyFriends.size() + &quot;, moneyTransfers=&quot;</span>
				+ moneyTransfers + &quot;]&quot;;
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>